<!DOCTYPE html>
<html lang="id">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <link rel="icon" href="wargart_splash.png" sizes="192x192">
    <meta name="theme-color" content="#ffffff">
    <link rel="apple-touch-icon" href="wargart_splash.png">
    <meta name="mobile-web-app-capable" content="yes">

    <meta name="apple-mobile-web-app-status-bar-style" content="default">
  <title>Beranda | WARGA RT Super App</title>
  <script src="https://cdn.tailwindcss.com"></script>
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.0/css/all.min.css" crossorigin="anonymous" />
  <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@400;600&display=swap" rel="stylesheet">

  <style>
    body { font-family: 'Poppins', sans-serif; overflow-x: hidden; }
    .scrollbar-hide::-webkit-scrollbar { display: none; }

    @keyframes fadeUp {
      0% { opacity: 0; transform: translateY(20px) scale(0.95); }
      100% { opacity: 1; transform: translateY(0) scale(1); }
    }
    .fade-up { opacity: 0; animation: fadeUp 0.6s ease forwards; }

    .carousel { scroll-snap-type: x mandatory; }
    .carousel-item { scroll-snap-align: start; flex: 0 0 100%; }

    /* ---------- SHEET MENU LAINNYA ---------- */
    .sheet {
      position: fixed;
      bottom: 0;
      left: 0;
      right: 0;
      background: #fff;
      border-top-left-radius: 1rem;
      border-top-right-radius: 1rem;
      transform: translateY(100%);
      transition: transform 0.35s ease;
      will-change: transform;
      box-shadow: 0 -4px 20px rgba(0,0,0,0.08);
      max-height: 85vh;
      overflow-y: auto;
      z-index: 50;
    }
    .sheet.show {
      transform: translateY(0);
    }

    .fade-bg {
      position: fixed;
      inset: 0;
      background: rgba(0,0,0,0.3);
      opacity: 0;
      transition: opacity 0.3s ease;
      pointer-events: none;
      z-index: 40;
    }
    .fade-bg.show {
      opacity: 1;
      pointer-events: all;
      backdrop-filter: blur(4px);
    }

    .sheet-handle {
      width: 40px;
      height: 4px;
      background: #ccc;
      border-radius: 9999px;
      margin: 10px auto;
    }
  </style>
</head>
<body class="min-h-screen flex flex-col bg-gradient-to-b from-sky-100 via-white to-gray-100">

  <!-- ðŸŒŸ HEADER - FIXED & RESPONSIVE -->
<header class="fixed top-0 left-0 right-0 z-50 bg-white/95 backdrop-blur-md shadow-sm border-b border-gray-200">
  <div class="flex items-center justify-between px-4 py-3">
    <div>
      <h1 class="text-base font-semibold text-gray-800">Halo, WARGA RT ðŸ‘‹</h1>
      <p class="text-xs text-gray-500">Semoga harimu menyenangkan</p>
    </div>
    <div class="w-9 h-9 rounded-full overflow-hidden border border-gray-300 shadow-sm">
      <img src="wargart.png" alt="Profile" class="w-full h-full object-cover">
    </div>
  </div>
</header>

  <!-- BANNER / CAROUSEL -->

<div class="mt-[88px] px-4 relative"> <!-- Tambahkan jarak top sesuai tinggi header -->
    <div id="carousel" class="flex overflow-x-auto carousel scrollbar-hide rounded-2xl">
      <!-- SLIDE 1 -->
      <div class="carousel-item bg-gradient-to-r from-blue-500 to-indigo-600 text-white p-4 rounded-2xl shadow flex items-center gap-3 fade-up" style="animation-delay:0.2s">
        <img src="dokumen.png" alt="Dokumen" class="w-14 h-14">
        <div>
          <h2 class="text-sm font-semibold">Cek Administrasi</h2>
          <p class="text-xs opacity-80">Pantau laporan harian dan kegiatan terbaru</p>
        </div>
      </div>
      <!-- SLIDE 2 -->
      <div class="carousel-item bg-gradient-to-r from-green-400 to-emerald-600 text-white p-4 rounded-2xl shadow flex items-center gap-3 fade-up" style="animation-delay:0.3s">
        <img src="cleaning.png" alt="Cleaning" class="w-14 h-14">
        <div>
          <h2 class="text-sm font-semibold">Update Kebersihan</h2>
          <p class="text-xs opacity-80">Laporan checklist kebersihan tersedia</p>
        </div>
      </div>
      <!-- SLIDE 3 -->
      <div class="carousel-item bg-gradient-to-r from-orange-400 to-red-500 text-white p-4 rounded-2xl shadow flex items-center gap-3 fade-up" style="animation-delay:0.4s">
        <img src="kinerja.png" alt="Kinerja" class="w-14 h-14">
        <div>
          <h2 class="text-sm font-semibold">Pemantauan Kinerja</h2>
          <p class="text-xs opacity-80">Data progres pekerjaan tersedia</p>
        </div>
      </div>
    </div>

    <!-- Indicator -->
    <div class="flex justify-center mt-2 gap-2">
      <span class="w-2 h-2 bg-blue-600 rounded-full" id="dot0"></span>
      <span class="w-2 h-2 bg-gray-400 rounded-full" id="dot1"></span>
      <span class="w-2 h-2 bg-gray-400 rounded-full" id="dot2"></span>
    </div>
  </div>

  <!-- MENU GRID -->
  <main class="flex-1 p-4 pb-32">
   <!-- ðŸŒ¿ Bagian Menu Cleaning Service -->
<h2 class="text-sm font-semibold mb-2 fade-up" style="animation-delay:0.4s">
  Cleaning Service
</h2>

<div class="grid grid-cols-4 gap-4 px-4 mt-4">

  <!-- Supervisor -->
  <a href="https://forms.gle/S67tquwph8SnJF4U6" class="group flex flex-col items-center text-gray-700 text-xs fade-up" style="animation-delay:0.5s">
    <div class="w-14 h-14 flex items-center justify-center bg-blue-50 rounded-2xl shadow-md group-hover:scale-110 transition-all">
      <i class="fa-solid fa-user-tie text-blue-600 text-2xl"></i>
    </div>
    <span class="mt-2 font-medium">Supervisor</span>
  </a>

  <!-- Asrama -->
  <a href="https://forms.gle/FXHWDrPR2Sar66ic9" target="_blank" class="group flex flex-col items-center text-gray-700 text-xs fade-up" style="animation-delay:0.6s">
    <div class="w-14 h-14 flex items-center justify-center bg-pink-50 rounded-2xl shadow-md group-hover:scale-110 transition-all">
      <i class="fa-solid fa-house-chimney-user text-pink-600 text-2xl"></i>
    </div>
    <span class="mt-2 font-medium">Asrama</span>
  </a>

  <!-- Gedung -->
  <a href="https://forms.gle/8jP47WpL2QDKiXzr8" target="_blank" class="group flex flex-col items-center text-gray-700 text-xs fade-up" style="animation-delay:0.7s">
    <div class="w-14 h-14 flex items-center justify-center bg-emerald-50 rounded-2xl shadow-md group-hover:scale-110 transition-all">
      <i class="fa-solid fa-building text-emerald-600 text-2xl"></i>
    </div>
    <span class="mt-2 font-medium">Gedung</span>
  </a>

  <!-- Auditorium -->
  <a href="https://forms.gle/DtPoX1GARz35tSSeA" target="_blank" class="group flex flex-col items-center text-gray-700 text-xs fade-up" style="animation-delay:0.8s">
    <div class="w-14 h-14 flex items-center justify-center bg-orange-50 rounded-2xl shadow-md group-hover:scale-110 transition-all">
      <i class="fa-solid fa-school text-orange-600 text-2xl"></i>
    </div>
    <span class="mt-2 font-medium">Auditorium</span>
  </a>

  <!-- Rumpim -->
  <a href="https://forms.gle/ZZDNYPm7Qjnn1ozVA" target="_blank" class="group flex flex-col items-center text-gray-700 text-xs fade-up" style="animation-delay:0.9s">
    <div class="w-14 h-14 flex items-center justify-center bg-rose-50 rounded-2xl shadow-md group-hover:scale-110 transition-all">
      <i class="fa-solid fa-house text-rose-600 text-2xl"></i>
    </div>
    <span class="mt-2 font-medium">Rumpim</span>
  </a>

  <!-- Taman -->
  <a href="https://forms.gle/v17RsvJ4mtqbyEwW7" target="_blank" class="group flex flex-col items-center text-gray-700 text-xs fade-up" style="animation-delay:1s">
    <div class="w-14 h-14 flex items-center justify-center bg-lime-50 rounded-2xl shadow-md group-hover:scale-110 transition-all">
      <i class="fa-solid fa-tree text-lime-600 text-2xl"></i>
    </div>
    <span class="mt-2 font-medium">Taman</span>
  </a>

  <!-- Gondola -->
  <a href="https://forms.gle/T4U9Dnpjz9Yx3kCUA" target="_blank" class="group flex flex-col items-center text-gray-700 text-xs fade-up" style="animation-delay:1.1s">
    <div class="w-14 h-14 flex items-center justify-center bg-indigo-50 rounded-2xl shadow-md group-hover:scale-110 transition-all">
      <i class="fa-solid fa-bucket text-indigo-600 text-2xl"></i>
    </div>
    <span class="mt-2 font-medium">Gondola</span>
  </a>

  <!-- General Cleaning -->
  <a href="https://forms.gle/jfpevYUvempcvbPu8" target="_blank" class="group flex flex-col items-center text-gray-700 text-xs fade-up" style="animation-delay:1.2s">
    <div class="w-14 h-14 flex items-center justify-center bg-cyan-50 rounded-2xl shadow-md group-hover:scale-110 transition-all">
      <i class="fa-solid fa-trash text-cyan-600 text-2xl"></i>
    </div>
    <span class="mt-2 font-medium text-center">General<br>Cleaning</span>
  </a>

  <!-- Piket OB -->
  <a href="https://forms.gle/YmptMvuJzpyJmG4Y9" target="_blank" class="group flex flex-col items-center text-gray-700 text-xs fade-up" style="animation-delay:1.3s">
    <div class="w-14 h-14 flex items-center justify-center bg-yellow-50 rounded-2xl shadow-md group-hover:scale-110 transition-all">
      <i class="fa-solid fa-broom text-yellow-600 text-2xl"></i>
    </div>
    <span class="mt-2 font-medium">Piket OB</span>
  </a>

  <!-- Schedule -->
  <a href="https://docs.google.com/spreadsheets/d/1eaK8MHMGVnENcF-SSYVgBPiLJJW8_97w/edit?usp=sharing&ouid=101292226300060103909&rtpof=true&sd=true" target="_blank" class="group flex flex-col items-center text-gray-700 text-xs fade-up" style="animation-delay:1.4s">
    <div class="w-14 h-14 flex items-center justify-center bg-fuchsia-50 rounded-2xl shadow-md group-hover:scale-110 transition-all">
      <i class="fa-solid fa-calendar text-fuchsia-600 text-2xl"></i>
    </div>
    <span class="mt-2 font-medium">Schedule</span>
  </a>
</div>

<!-- ðŸ›¡ï¸ Bagian Menu Security -->
<h2 class="text-sm font-semibold mt-8 mb-2 fade-up" style="animation-delay:1.5s">
  Security
</h2>

<div class="grid grid-cols-4 gap-4 px-4 mt-4">

  <!-- Koordinator -->
  <a href="https://forms.gle/ga953sZbEFncP7wHA" target="_blank" class="group flex flex-col items-center text-gray-700 text-xs fade-up" style="animation-delay:1.6s">
    <div class="w-14 h-14 flex items-center justify-center bg-purple-50 rounded-2xl shadow-md group-hover:scale-110 transition-all">
      <i class="fa-solid fa-user-shield text-purple-600 text-2xl"></i>
    </div>
    <span class="mt-2 font-medium">Koordinator</span>
  </a>

  <!-- PTSP -->
  <a href="https://forms.gle/TUqXPxEF8YQ3uxyHA" target="_blank" class="group flex flex-col items-center text-gray-700 text-xs fade-up" style="animation-delay:1.7s">
    <div class="w-14 h-14 flex items-center justify-center bg-pink-50 rounded-2xl shadow-md group-hover:scale-110 transition-all">
      <i class="fa-solid fa-building-shield text-pink-600 text-2xl"></i>
    </div>
    <span class="mt-2 font-medium">PTSP</span>
  </a>

  <!-- Regu -->
  <a href="https://forms.gle/u74zd5ReUB75wzxy6" target="_blank" class="group flex flex-col items-center text-gray-700 text-xs fade-up" style="animation-delay:1.8s">
    <div class="w-14 h-14 flex items-center justify-center bg-sky-50 rounded-2xl shadow-md group-hover:scale-110 transition-all">
      <i class="fa-solid fa-users text-sky-600 text-2xl"></i>
    </div>
    <span class="mt-2 font-medium">Regu</span>
  </a>

  <!-- Presensi -->
  <a href="https://forms.gle/n2CGAdp88Rrs5rHE8" target="_blank" class="group flex flex-col items-center text-gray-700 text-xs fade-up" style="animation-delay:1.9s">
    <div class="w-14 h-14 flex items-center justify-center bg-emerald-50 rounded-2xl shadow-md group-hover:scale-110 transition-all">
      <i class="fa-solid fa-calendar-check text-emerald-600 text-2xl"></i>
    </div>
    <span class="mt-2 font-medium text-center">Presensi<br>Ploting Jaga</span>
  </a>

  <!-- Schedule -->
  <a href="#" target="_blank" class="group flex flex-col items-center text-gray-700 text-xs fade-up" style="animation-delay:2s">
    <div class="w-14 h-14 flex items-center justify-center bg-amber-50 rounded-2xl shadow-md group-hover:scale-110 transition-all">
      <i class="fa-solid fa-calendar-days text-amber-600 text-2xl"></i>
    </div>
    <span class="mt-2 font-medium">Schedule</span>
  </a>

  <!-- Menu Lainnya -->
  <a id="openLainnya" class="group flex flex-col items-center text-gray-700 text-xs fade-up" style="animation-delay:2.1s">
    <div class="w-14 h-14 flex items-center justify-center bg-teal-50 rounded-2xl shadow-md group-hover:scale-110 transition-all">
      <i class="fa-solid fa-layer-group text-teal-600 text-2xl"></i>
    </div>
    <span class="mt-2 font-medium text-center">Menu<br>Lainnya</span>
  </a>
</div>


    
    <!-- ðŸ”¹ RINGKASAN HARI INI -->
    <h2 class="text-sm font-semibold mt-6 mb-2 fade-up" style="animation-delay:1.5s">Ringkasan Hari Ini</h2>
    <div class="grid grid-cols-2 gap-4">
      <div class="bg-white rounded-xl p-4 shadow flex flex-col opacity-0 fade-up relative" style="animation-delay:1.6s">
        <div class="absolute -top-3 -left-3 bg-blue-100 p-2 rounded-full shadow">
          <i class="fa-solid fa-calendar-check text-blue-600"></i>
        </div>
        <span class="text-xs text-gray-500 mt-3">Total Kegiatan</span>
        <span class="text-lg font-semibold">47</span>
      </div>

      <div class="bg-white rounded-xl p-4 shadow flex flex-col opacity-0 fade-up relative" style="animation-delay:1.7s">
        <div class="absolute -top-3 -left-3 bg-indigo-100 p-2 rounded-full shadow">
          <i class="fa-solid fa-users text-indigo-600"></i>
        </div>
        <span class="text-xs text-gray-500 mt-3">Total Peserta</span>
        <span class="text-lg font-semibold text-blue-600">2838</span>
      </div>

      <div class="bg-white rounded-xl p-4 shadow flex flex-col opacity-0 fade-up relative" style="animation-delay:1.8s">
        <div class="absolute -top-3 -left-3 bg-green-100 p-2 rounded-full shadow">
          <i class="fa-solid fa-bed text-green-600"></i>
        </div>
        <span class="text-xs text-gray-500 mt-3">Okupansi Kamar</span>
        <span class="text-lg font-semibold text-green-600">1380</span>
      </div>

      <div class="bg-white rounded-xl p-4 shadow flex flex-col opacity-0 fade-up relative" style="animation-delay:1.9s">
        <div class="absolute -top-3 -left-3 bg-purple-100 p-2 rounded-full shadow">
          <i class="fa-solid fa-chalkboard-user text-purple-600"></i>
        </div>
        <span class="text-xs text-gray-500 mt-3">Okupansi Kelas</span>
        <span class="text-lg font-semibold text-purple-600">83</span>
      </div>
    </div>
  </main>

  <!-- ðŸŒŸ BOTTOM NAVBAR - FIXED SUPER APP STYLE -->
<nav class="fixed bottom-0 left-0 right-0 bg-white/95 backdrop-blur-md border-t border-gray-200 shadow-sm z-50 pb-[env(safe-area-inset-bottom)]">
  <div class="grid grid-cols-5 text-center text-gray-600 text-[11px] font-medium">
    <a href="#" class="flex flex-col items-center justify-center py-2 hover:text-blue-600 transition-all">
      <i class="fa-solid fa-home text-lg mb-1"></i>
      <span>Beranda</span>
    </a>

    <a href="https://sikep.mahkamahagung.go.id/" target="_blank" class="flex flex-col items-center justify-center py-2 hover:text-blue-600 transition-all">
      <i class="fa-solid fa-building-columns text-lg mb-1"></i>
      <span>SIKEP</span>
    </a>

    <a href="https://asndigital.bkn.go.id/" target="_blank" class="flex flex-col items-center justify-center py-2 hover:text-blue-600 transition-all">
      <i class="fa-solid fa-briefcase text-lg mb-1"></i>
      <span>e-Kinerja</span>
    </a>

    <a id="uploadPresensiBtn" href="javascript:void(0)" class="flex flex-col items-center justify-center py-2 hover:text-blue-600 transition-all">
      <i class="fa-solid fa-clock text-lg mb-1"></i>
      <span>Upload Presensi</span>
    </a>

    <a href="https://forms.gle/T8RfTL22i8HDSeuZ6" target="_blank" class="flex flex-col items-center justify-center py-2 hover:text-blue-600 transition-all">
      <i class="fa-solid fa-upload text-lg mb-1"></i>
      <span>Upload PKP</span>
    </a>

  </div>
</nav>

 <!-- ðŸ”¹ UPLOAD PRESENSI MODAL -->
<div id="uploadMenuOverlay" class="fixed inset-0 z-50 hidden">
  <!-- Background gelap -->
  <div id="overlayBg" class="absolute inset-0 bg-black bg-opacity-40 opacity-0 transition-opacity duration-300"></div>

  <!-- Konten bottom sheet -->
  <div id="uploadSheet"
    class="absolute bottom-0 left-0 right-0 translate-y-full transition-transform duration-300 bg-white rounded-t-2xl shadow-lg max-h-[85vh] overflow-y-auto">
    
    <div class="sheet-handle w-12 h-1.5 bg-gray-300 rounded-full mt-3 mx-auto"></div>
    <button id="uploadCloseBtn" class="absolute top-3 right-4 text-gray-400 hover:text-gray-600 text-xl">
      <i class="fa-solid fa-xmark"></i>
    </button>
    <div class="p-4 pb-8 pt-4">
      <h2 class="text-base font-semibold mb-4 text-center">Upload Presensi</h2>
      <div class="space-y-3">
        <a href="https://docs.google.com/forms/d/e/1FAIpQLSdJ0cE3fE7Snb6a4dzfQrM1VL9x-YmEppNxD7qQAsh32tC92A/viewform"
          target="_blank"
          class="flex items-center gap-3 p-3 bg-gray-50 rounded-xl hover:bg-sky-50 transition">
          <i class="fa-solid fa-user text-blue-600 text-xl"></i>
          <span class="text-sm font-medium">PPPK Sekretariat</span>
        </a>
        <a href="https://docs.google.com/forms/d/e/1FAIpQLSc1mv-ViBDEHsfTUVhphXyRscmifBZXwX5znuH8Ui4zX-KOmQ/viewform"
          target="_blank"
          class="flex items-center gap-3 p-3 bg-gray-50 rounded-xl hover:bg-sky-50 transition">
          <i class="fa-solid fa-broom text-blue-600 text-xl"></i>
          <span class="text-sm font-medium">PPPK Cleaning Service</span>
        </a>
        <a href="https://docs.google.com/forms/d/e/1FAIpQLSeuwvIKORTut8kHq5cyjYUSb_VX8WN-uMJkn096R91uHbAxqw/viewform"
          target="_blank"
          class="flex items-center gap-3 p-3 bg-gray-50 rounded-xl hover:bg-sky-50 transition">
          <i class="fa-solid fa-shield-halved text-blue-600 text-xl"></i>
          <span class="text-sm font-medium">PPPK Security</span>
        </a>
      </div>
    </div>
  </div>
</div>

  <!-- BG -->
  <div id="fadeBg" class="fade-bg"></div>

  <!-- MENU LAINNYA -->
  <div id="menuSheet" class="sheet">
    <div class="sheet-handle"></div>
    <button id="closeSheet" class="absolute top-3 right-4 text-gray-400 hover:text-gray-600 text-xl">
      <i class="fa-solid fa-xmark"></i>
    </button>

    <div id="sheetContent" class="p-4 pb-8 pt-4">
      <h2 class="text-base font-semibold mb-4 text-center">Menu Lainnya</h2>
      <div class="space-y-3">
        <a href="https://docs.google.com/spreadsheets/d/1UpJrbk6gDnNie_jXzb7xfgpVGhc68MelDuFlmYU4boQ/edit" target="_blank" class="flex items-center gap-3 p-3 bg-gray-50 rounded-xl hover:bg-sky-50 transition">
          <i class="fa-solid fa-calendar-days text-blue-600 text-xl"></i>
          <span class="text-sm font-medium">Timetable Kegiatan</span>
        </a>
        <a href="https://docs.google.com/spreadsheets/d/1H3wMRJaw5R241OE0cgzMWumyR2oeGvVf0HzHBsu8Omg/edit" target="_blank" class="flex items-center gap-3 p-3 bg-gray-50 rounded-xl hover:bg-sky-50 transition">
          <i class="fa-solid fa-bed text-blue-600 text-xl"></i>
          <span class="text-sm font-medium">Cekin Peserta</span>
        </a>
        <a href="https://viyatadhika.github.io/noext/" target="_blank" class="flex items-center gap-3 p-3 bg-gray-50 rounded-xl hover:bg-sky-50 transition">
          <i class="fa-solid fa-phone text-blue-600 text-xl"></i>
          <span class="text-sm font-medium">Nomor Telepon</span>
        </a>
      </div>
    </div>
  </div>

  <!-- === POPUP PENGUMUMAN PKP (UPGRADED VISUALS) === -->
    <div id="popupPKP" class="fixed inset-0 flex items-center justify-center bg-black/50 backdrop-blur-sm z-[60] hidden">
        <div class="bg-white rounded-3xl shadow-2xl w-[90%] max-w-sm overflow-hidden animate-[fadeUp_0.4s_ease_forwards]">
            
            <!-- Header Visual dengan Gambar dan Gradien -->
            <div class="relative pt-10 pb-6 px-6 bg-gradient-to-br from-blue-500 to-indigo-600 text-white">
                <!-- Ikon Utama -->
                <div class="mx-auto w-16 h-16 flex items-center justify-center rounded-full bg-white/20 backdrop-blur-sm shadow-lg mb-3">
                    <i class="fa-solid fa-clipboard-list text-3xl"></i>
                </div>
                <h2 class="text-xl font-bold mb-1">Tugas Mendesak!</h2>
                <p class="text-sm opacity-90">Pengingat PKP Bulanan</p>
                
                <!-- Ilustrasi Placeholder (Menggunakan Image Placeholder URL untuk tampilan modern) -->
                <img 
                    src="https://placehold.co/100x100/3b82f6/ffffff?text=PKP" 
                    alt="Ilustrasi Tugas" 
                    class="absolute top-0 right-0 w-24 h-24 object-contain opacity-20 -rotate-12 transform translate-x-4 -translate-y-4"
                    onerror="this.style.display='none'"
                >
            </div>
            
            <!-- Konten Utama -->
            <div class="p-6 text-center">
                <p class="text-base text-gray-700 leading-relaxed mb-6">
                    Waktunya menyelesaikan <span class="font-bold text-indigo-700">PKP bulan ini</span>! 
                    Batas waktu terakhir adalah tanggal <span class="font-bold">4</span>. Pastikan data kinerja Anda tercatat lengkap.
                </p>
                <button id="closePopup" class="w-full py-3 rounded-xl bg-indigo-600 text-white font-semibold shadow-md shadow-indigo-300 hover:bg-indigo-700 transition">
                    Mengerti & Lanjutkan
                </button>
            </div>
            
        </div>
    </div>
    <!-- === END POPUP PENGUMUMAN PKP === -->

 <!-- ðŸŒŸ POPUP PEMBERITAHUAN MOOC -->
<div id="popupPeringatan"
  class="fixed inset-0 bg-black/40 backdrop-blur-sm flex items-center justify-center z-[999]">
  <div class="popup-content bg-white rounded-2xl shadow-xl max-w-sm w-[90%] p-5 text-center animate-fadeIn relative">
    <h2 class="text-lg font-semibold text-gray-800 mb-2">ðŸŽ“ Pembelajaran Mandiri MOOC</h2>
    <p class="text-sm text-gray-600 mb-4 leading-relaxed">
      Segera selesaikan pembelajaran mandiri <br><b>Massive Online Open Courses (MOOC)</b> <br> melalui website:<br>
      <a href="https://sibangkom.lan.go.id/pembelajaran-wajib/login" target="_blank" class="text-blue-600 underline">
        https://sibangkom.lan.go.id/pembelajaran-wajib/login
      </a><br><br>
      Periode pelaksanaan: <br>
      <b>Tanggal 3 November â€“ 17 November 2025</b>.
    </p>
    <button id="btnTutupPopup"
      class="bg-blue-600 hover:bg-blue-700 text-white font-medium px-4 py-2 rounded-lg transition-all">
      Tutup
    </button>
  </div>
</div>

  <script>
    // === CAROUSEL ===
    const carousel = document.getElementById("carousel");
    const dots = [document.getElementById("dot0"), document.getElementById("dot1"), document.getElementById("dot2")];
    let index = 0;
    function showSlide(i) {
      carousel.scrollTo({ left: carousel.offsetWidth * i, behavior: "smooth" });
      dots.forEach((dot, idx) => {
        dot.classList.toggle("bg-blue-600", idx === i);
        dot.classList.toggle("bg-gray-400", idx !== i);
      });
    }
    setInterval(() => { index = (index + 1) % 3; showSlide(index); }, 4000);

    // === SHEET MENU LAINNYA ===
    const openMenu = document.getElementById('openLainnya');
    const menuSheet = document.getElementById('menuSheet');
    const fadeBg = document.getElementById('fadeBg');
    const closeSheet = document.getElementById('closeSheet');
    const sheetContent = document.getElementById('sheetContent');

    const openSheet = () => {
      menuSheet.style.transition = "none";
      menuSheet.style.transform = "translateY(100%)";
      requestAnimationFrame(() => {
        menuSheet.classList.add("show");
        fadeBg.classList.add("show");
        menuSheet.style.transition = "transform 0.35s ease";
        menuSheet.style.transform = "translateY(0)";
      });
    };

    const closeSheetFn = () => {
      menuSheet.style.transition = "transform 0.35s ease";
      menuSheet.style.transform = "translateY(100%)";
      fadeBg.classList.remove("show");
      setTimeout(() => {
        menuSheet.classList.remove("show");
        menuSheet.style.transform = "translateY(100%)";
      }, 400);
    };

    openMenu.addEventListener('click', openSheet);
    fadeBg.addEventListener('click', closeSheetFn);
    closeSheet.addEventListener('click', closeSheetFn);

    // SWIPE DOWN CLOSE FIX
    let startY = 0, currentY = 0, isDragging = false, canClose = false;
    sheetContent.addEventListener('touchstart', (e) => {
      if (sheetContent.scrollTop <= 0) {
        canClose = true;
        startY = e.touches[0].clientY;
        isDragging = true;
        menuSheet.style.transition = "none";
      } else canClose = false;
    });

    sheetContent.addEventListener('touchmove', (e) => {
      if (!isDragging || !canClose) return;
      currentY = e.touches[0].clientY;
      const deltaY = currentY - startY;
      if (deltaY > 0) {
        e.preventDefault();
        menuSheet.style.transform = `translateY(${deltaY}px)`;
      }
    });

    sheetContent.addEventListener('touchend', () => {
      if (!isDragging) return;
      isDragging = false;
      const deltaY = currentY - startY;
      menuSheet.style.transition = "transform 0.35s ease";
      if (canClose && deltaY > 100) {
        closeSheetFn();
      } else {
        menuSheet.style.transform = "translateY(0)";
      }
    });
  </script>
  
<script>
  // === POPUP PKP ===
  const popupPKP = document.getElementById('popupPKP');
  const closePopup = document.getElementById('closePopup');

  const now = new Date();
  const year = now.getFullYear();
  const month = now.getMonth();
  const date = now.getDate();

  // Key unik per hari agar popup tidak muncul ulang hari yang sama
  const todayKey = `popupShown_${year}-${month + 1}-${date}`;
  const hasShownToday = localStorage.getItem(todayKey);

  // Cari tanggal terakhir bulan ini
  const lastDay = new Date(year, month + 1, 0).getDate();

  // Jika termasuk 7 hari terakhir bulan ini
  const isLastWeekOfMonth = date > lastDay - 7;

  // === Fungsi untuk memainkan suara notifikasi ===
  function playNotificationSound() {
    const audio = new Audio("https://cdn.pixabay.com/download/audio/2022/03/15/audio_9a46fbd2f7.mp3?filename=notification-199217.mp3");
    audio.volume = 0.5;
    audio.play().catch(() => {}); // mencegah error jika autoplay diblok
  }

  // === Tampilkan popup dengan efek + suara ===
  if (isLastWeekOfMonth && !hasShownToday) {
    popupPKP.classList.remove('hidden');
    const content = popupPKP.querySelector('div');
    content.classList.add('animate-popup-show');
    playNotificationSound(); // mainkan suara lembut
  }

  // === Tutup popup ===
  closePopup.addEventListener('click', () => {
    const content = popupPKP.querySelector('div');
    content.classList.remove('animate-popup-show');
    content.classList.add('animate-popup-hide');

    setTimeout(() => {
      popupPKP.classList.add('hidden');
      localStorage.setItem(todayKey, 'true');
      window.location.href = "beranda.php"; // langsung ke beranda
    }, 350);
  });
</script>

<!-- ðŸ“† LOGIKA POPUP -->
<script>
  document.addEventListener("DOMContentLoaded", function() {
    const popup = document.getElementById("popupPeringatan");
    const popupBox = popup.querySelector(".popup-content");
    const btnTutup = document.getElementById("btnTutupPopup");
    const closeIcon = document.getElementById("closePopup");

    // ðŸ—“ï¸ Rentang tanggal aktif popup
    const startDate = new Date(2025, 10, 3);  // 3 November 2025
    const endDate = new Date(2025, 10, 17);   // 17 November 2025
    const today = new Date();

    // âœ… Tampilkan popup hanya jika hari ini dalam rentang
    if (today >= startDate && today <= endDate) {
      popup.classList.remove("hidden");
    } else {
      popup.classList.add("hidden");
    }

    // ðŸ”˜ Fungsi menutup popup
    function closePopup() {
      popup.classList.add("hidden");
    }

    // Tombol dan ikon tutup
    btnTutup.addEventListener("click", closePopup);
    closeIcon.addEventListener("click", closePopup);

    // Klik di luar area popup â†’ tutup
    popup.addEventListener("click", function(e) {
      if (!popupBox.contains(e.target)) {
        closePopup();
      }
    });
  });
</script>

<script>
  // === SHEET UPLOAD PRESENSI (versi anti-bentrok) ===
  const openUploadPresensiBtn = document.getElementById('uploadPresensiBtn');
  const uploadOverlayEl = document.getElementById('uploadMenuOverlay');
  const uploadBgEl = document.getElementById('overlayBg');
  const uploadSheetEl = document.getElementById('uploadSheet');
  const uploadCloseEl = document.getElementById('uploadCloseBtn');

  const openUploadPresensi = () => {
    uploadOverlayEl.classList.remove("hidden");
    uploadBgEl.classList.remove("opacity-0");
    uploadBgEl.classList.add("opacity-100");

    // pastikan sheet tampil penuh walau user sedang scroll di bawah
    window.scrollTo({ top: 0, behavior: "instant" });

    requestAnimationFrame(() => {
      uploadSheetEl.style.transition = "transform 0.35s ease";
      uploadSheetEl.style.transform = "translateY(0)";
    });
  };

  const closeUploadPresensi = () => {
    uploadSheetEl.style.transition = "transform 0.35s ease";
    uploadSheetEl.style.transform = "translateY(100%)";
    uploadBgEl.classList.remove("opacity-100");
    uploadBgEl.classList.add("opacity-0");
    setTimeout(() => {
      uploadOverlayEl.classList.add("hidden");
    }, 350);
  };

  // === Event Listener ===
  openUploadPresensiBtn.addEventListener('click', openUploadPresensi);
  uploadBgEl.addEventListener('click', closeUploadPresensi);
  uploadCloseEl.addEventListener('click', closeUploadPresensi);

  // === SWIPE DOWN UNTUK MENUTUP ===
  let startY_upload = 0, currentY_upload = 0, isDragging_upload = false, canClose_upload = false;

  uploadSheetEl.addEventListener('touchstart', (e) => {
    if (uploadSheetEl.scrollTop <= 0) {
      canClose_upload = true;
      startY_upload = e.touches[0].clientY;
      isDragging_upload = true;
      uploadSheetEl.style.transition = "none";
    } else canClose_upload = false;
  });

  uploadSheetEl.addEventListener('touchmove', (e) => {
    if (!isDragging_upload || !canClose_upload) return;
    currentY_upload = e.touches[0].clientY;
    const deltaY = currentY_upload - startY_upload;
    if (deltaY > 0) {
      e.preventDefault();
      uploadSheetEl.style.transform = `translateY(${deltaY}px)`;
    }
  });

  uploadSheetEl.addEventListener('touchend', () => {
    if (!isDragging_upload) return;
    isDragging_upload = false;
    const deltaY = currentY_upload - startY_upload;
    uploadSheetEl.style.transition = "transform 0.35s ease";
    if (canClose_upload && deltaY > 100) {
      closeUploadPresensi();
    } else {
      uploadSheetEl.style.transform = "translateY(0)";
    }
  });
</script>

<!-- ðŸ”¹ STYLE TAMBAHAN -->
<style>
  #uploadSheet {
    transition: transform 0.35s ease;
  }
  #overlayBg {
    transition: opacity 0.3s ease;
  }
</style>
 
<style>
  /* Animasi popup muncul */
  @keyframes popupShow {
    0% { opacity: 0; transform: translateY(40px) scale(0.95); }
    100% { opacity: 1; transform: translateY(0) scale(1); }
  }

  /* Animasi popup hilang */
  @keyframes popupHide {
    0% { opacity: 1; transform: translateY(0) scale(1); }
    100% { opacity: 0; transform: translateY(30px) scale(0.95); }
  }

  .animate-popup-show {
    animation: popupShow 0.4s ease forwards;
  }

  .animate-popup-hide {
    animation: popupHide 0.3s ease forwards;
  }
</style>


<style>
  @keyframes fadeUp {
    from { opacity: 0; transform: translateY(20px) scale(0.95); }
    to { opacity: 1; transform: translateY(0) scale(1); }
  }
</style>
  <!-- ðŸŒŸ FIX SAFARI / ANDROID WHITE GAP -->
<style>
  html, body {
    height: 100%;
    margin: 0;
    padding: 0;
    background-color: #f9fafb;
    overscroll-behavior-y: none;
  }
  body {
    min-height: 100vh;
    display: flex;
    flex-direction: column;
  }
  main {
    flex: 1 0 auto;
  }
  nav {
    flex-shrink: 0;
  }
</style>
</body>
</html>






























































